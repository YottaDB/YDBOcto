
create view ptest as select * from names;
-- https://gitlab.com/YottaDB/DBMS/YDBOcto/-/merge_requests/1244#note_1389100523
select n.nspname, c.relname, a.attname, a.atttypid, t.typname, a.attnum, a.attlen, a.atttypmod, a.attnotnull, c.relhasrules, c.relkind, c.oid, pg_get_expr(d.adbin, d.adrelid), case t.typtype when 'd' then t.typbasetype else 0 end, t.typtypmod, 0, attidentity, c.relhassubclass from (((pg_catalog.pg_class c inner join pg_catalog.pg_namespace n on n.oid = c.relnamespace and c.relname like 'PTEST' and n.nspname like 'public') inner join pg_catalog.pg_attribute a on (not a.attisdropped) and a.attnum > 0 and a.attrelid = c.oid) inner join pg_catalog.pg_type t on t.oid = a.atttypid) left outer join pg_attrdef d on a.atthasdef and d.adrelid = a.attrelid and d.adnum = a.attnum order by n.nspname, c.relname, attnum;

CREATE VIEW
NSPNAME|RELNAME|ATTNAME|ATTTYPID|TYPNAME|ATTNUM|ATTLEN|ATTTYPMOD|ATTNOTNULL|RELHASRULES|RELKIND|OID|PG_GET_EXPR|CASE|TYPTYPMOD|???|ATTIDENTITY|RELHASSUBCLASS
public|PTEST|ID|23|int4|1|4|-1|0|0|v|612||0|-1|0|1|0
public|PTEST|FIRSTNAME|1043|varchar|2|-1|-1|0|0|v|612||0|-1|0|1|0
public|PTEST|LASTNAME|1043|varchar|3|-1|-1|0|0|v|612||0|-1|0|1|0
(3 rows)
